<!DOCTYPE html>
<html>
<head>
    <title>CHITZO</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <style>
        body { font-family: sans-serif; display: flex; flex-direction: column; height: 100vh; margin: 0; }
        #messages { flex: 1; overflow-y: scroll; padding: 20px; list-style: none; background: #eee; }
        .msg { background: white; padding: 10px; margin: 5px 0; border-radius: 10px; }
        #input-area { display: flex; padding: 10px; background: #ddd; }
        #myMessage { flex: 1; padding: 10px; border-radius: 5px; border: none; }
        #sendBtn { margin-left: 10px; padding: 10px 20px; background: #6c5ce7; color: white; border: none; border-radius: 5px; }
    </style>
</head>
<body>
    <ul id="messages"></ul>
    <div id="input-area">
        <input type="text" id="myMessage" placeholder="Message...">
        <button id="sendBtn">Send</button>
    </div>
    <script>
        var socket = io();
        var username = prompt("Name?") || "User";
        socket.on('message', function(msg) {
            var data = JSON.parse(msg);
            $('#messages').append('<li class="msg"><b>'+data.user+':</b> '+data.text+'</li>');
            window.scrollTo(0, document.body.scrollHeight);
        });
        $('#sendBtn').click(function() {
            var txt = $('#myMessage').val();
            if(txt) {
                socket.send(JSON.stringify({user: username, text: txt}));
                $('#myMessage').val('');
            }
        });
    </script>
</body>
</html>
